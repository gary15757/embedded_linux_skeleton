os: linux
dist: trusty
language: c
cache:
  ccache: true
  directories:
    - ~/.ccache
before_script:
  - sudo apt-get install u-boot-tools device-tree-compiler mtools
script:
  - du --block-size=M --max-depth=1 ~
  - du --block-size=M --max-depth=1 .
  - while sleep 10; do tail -n 5 build/orange_pi_zero/current.log; done &
  - MODEL=orange_pi_zero make
  - kill %1
  - while sleep 10; do tail -n 5 build/arm_vexpress_a9/current.log; done &
  - MODEL=arm_vexpress_a9 make
  - kill %1
  - while sleep 10; do tail -n 5 build/pi_3_b/current.log; done &
  - MODEL=pi_3_b make
  - kill %1
  - while sleep 10; do tail -n 5 build/pi_b_plus/current.log; done &
  - MODEL=pi_b_plus make
  - kill %1
